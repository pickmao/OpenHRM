# 干部综合人事管理系统——一步步拆解（画布）

> 目标：把“系统设计说明书”进一步拆成可落地的实施清单（模块 → 子模块 → 功能点 → 数据/规则 → 页面 → 接口 → 权限 → 里程碑）。

---

## 0. 需求范围边界（先定清楚再开工）

### 0.1 系统用户与角色

* **政治处/组织部门（管理员/业务管理员）**：全量数据、配置、研判、调整、报表、库管理（A/B库）。
* **部门/支部负责人（业务用户）**：本支部范围数据查看、研判辅助、建议查看；是否允许调整由甲方定。
* **领导（决策查看）**：全局统计、画像、预警、调整方案对比、导出。
* **本人（可选）**：仅个人基础档案与培训记录（一般政务场景可能不开放）。

### 0.2 数据对象（系统“实体”）

* 干部（Leader/Cadre）
* 支部/部门（Branch/Dept）
* 任职信息（PositionHistory）
* 奖惩与考核（RewardPunish / Assessment）
* 考察与研判（Inspection / Appraisal）
* 能力与性格（Capability / Personality）
* 培训与成长（Training / Growth）
* 班子研判（TeamAppraisal）
* 人事调整方案（AdjustmentPlan）
* 特殊人员库（A库矛盾对、B库重点人员）
* 操作日志与审计（AuditLog）

### 0.3 非功能要求（政务系统必谈）

* 分级授权、最小权限、全操作留痕
* 数据脱敏展示（视角色）
* 导入导出（Excel为主）、批量校验
* 可用性与性能：支部列表/干部列表需秒级响应

---

## 1. 顶层模块拆解（10+1）

### M1 干部基础信息管理

**子模块**

* M1.1 花名册导入（模板校验、字段映射、去重）
* M1.2 基础档案维护（新增/编辑/停用）
* M1.3 任职与履历（任职记录、岗位变动、任期提醒）
* M1.4 数据版本与历史（变更记录、字段级对比）

**关键输出**

* 干部主数据表（唯一标识、状态、所属支部）
* 可作为所有统计/画像/筛选的底座

---

### M2 奖惩与考核

**子模块**

* M2.1 奖励台账（嘉奖/记功/立功/表彰…）
* M2.2 处分台账（类型、时间、原因、期限）
* M2.3 年度/季度/日常考核结果
* M2.4 趋势统计（按年/按支部/按人员）

**规则**

* 奖惩记录与干部一对多
* 统计口径（年度、截止日期）需配置

---

### M3 考察与研判

**子模块**

* M3.1 选拔任用考察记录（可附件）
* M3.2 组织谈话纪要（可附件）
* M3.3 现实表现纪实（结构化+文本）
* M3.4 综合研判结论（标签/分级/建议）

**输出**

* 干部“研判档案”
* 画像权重来源之一

---

### M4 性格与能力特征

**子模块**

* M4.1 心理测评导入/录入
* M4.2 能力维度模型配置（维度/权重/分值范围）
* M4.3 能力雷达图/标签生成

**注意点**

* 若无现成测评系统：先做“导入+人工录入”模式

---

### M5 培训与成长

**子模块**

* M5.1 培训记录（内训/外训、时长、证书）
* M5.2 专项任务/挂职锻炼
* M5.3 述职报告/材料上传

---

### M6 班子（支部）分析与研判

**子模块**

* M6.1 支部画像（年龄、学历、任职梯队、能力互补）
* M6.2 班子研判结论（字段结构对齐附件1）
* M6.3 结构合理性指标（可配置阈值）

---

### M7 干部画像与综合分析

**子模块**

* M7.1 个人画像卡（基础+研判+奖惩+能力）
* M7.2 画像标签体系（如“执行强”“风险高”等）
* M7.3 人岗匹配辅助（规则筛选/评分）

---

### M8 干部动态调整与智能预警（甲方新增重点）

#### M8.1 页面布局（对应甲方描述）

* **左上：支部排序区**（按指标排序）
* **左下：支部结构分析区**（年龄/学历/履历/标签统计）
* **右上：筛选区**（职级/类别/年龄段/标签/A/B库等）
* **右中：干部候选列表**（排序、搜索、分页）
* **右下：干部详情区**（画像卡、关键指标）
* **拖拽：从右侧干部 → 左侧支部**（增/减领导）

#### M8.2 方案化调整（强烈建议）

* 支持创建“调整方案A/B”，在方案内拖拽，不直接改生产数据
* 支持对比方案差异（支部结构变化、风险点变化）
* 方案审批后再“落地生效”

#### M8.3 A/B库智能识别

* **A库：矛盾关系对**

  * 数据结构：person_id_1、person_id_2、矛盾类型、风险等级、备注、有效期
  * 规则：若两人进入同一支部 → **高亮标红 + 弹出提醒**
* **B库：重点敏感人员**

  * 数据结构：person_id、类别（人际关系不佳/敏感…）、风险等级、备注
  * 规则：支部分析区展示 **B库人数/占比**；超过阈值给出提示

#### M8.4 风险提示与交互

* 标红对象：

  * 冲突人员（A库命中）
  * 支部风险（B库占比过高、年龄梯队断层等）
* 提示形式：右侧toast + 支部卡片角标 + 冲突清单弹窗

#### M8.5 审计与回滚

* 拖拽=一次“调整动作”，必须写入日志（谁、何时、从哪到哪、方案ID）
* 方案撤回/回滚支持

---

### M9 数据统计与报表中心

**子模块**

* M9.1 常用统计（结构分布、奖惩趋势、培训覆盖）
* M9.2 自定义报表（字段选择、过滤、导出）
* M9.3 导出格式（Excel/Word/PDF按甲方定）

---

### M10 权限与安全管理

**子模块**

* M10.1 角色与权限（菜单权限+数据权限）
* M10.2 数据范围（全局/本支部/本人）
* M10.3 审计日志（查询、导出、告警）

---

### M11 数据接口与导入导出（横切能力）

* Excel导入：花名册、班子研判、干部研判、奖励汇总
* 数据校验：必填、格式、枚举、重复、跨表一致性
* 对接接口（可选）：OA、人事系统、考核系统

---

## 2. 数据模型草案（可用于数据库设计评审）

### 2.1 关键表

* cadre(id, name, gender, birthday, education, political_status, dept_id, position, rank, status, created_at…)
* dept(id, name, type, parent_id…)
* position_history(id, cadre_id, dept_id, position, start_date, end_date…)
* reward_punish(id, cadre_id, type, level, date, reason…)
* assessment(id, cadre_id, year, grade, score, remark…)
* appraisal(id, cadre_id, date, type, conclusion, attachments…)
* capability(id, cadre_id, dimension, score, source, date…)
* training(id, cadre_id, course, hours, org, date…)
* team_appraisal(id, dept_id, period, fields…, conclusion…)
* special_pair_a(id, cadre_id_1, cadre_id_2, risk_level, remark, active)
* special_person_b(id, cadre_id, category, risk_level, remark, active)
* adjustment_plan(id, name, status, created_by, created_at, approved_by…)
* adjustment_action(id, plan_id, cadre_id, from_dept_id, to_dept_id, action_type, time…)
* audit_log(id, user_id, action, object_type, object_id, detail_json, time…)

---

## 3. 页面与流程拆解（按交付物输出）

### 3.1 页面清单（V1建议）

* P1 登录/工作台
* P2 干部档案（列表+详情）
* P3 支部档案（列表+结构分析）
* P4 奖惩考核台账
* P5 研判台账（干部/班子）
* P6 画像中心（干部画像卡/支部画像）
* P7 **人事调整与智能预警（重点）**
* P8 报表中心
* P9 A/B库管理
* P10 权限管理与日志审计

### 3.2 人事调整（P7）核心流程

1. 选择排序指标 → 左上支部列表排序
2. 点击支部 → 左下展示结构分析（含B库人数）
3. 右上设置筛选条件 → 右中出现候选干部
4. 点击候选干部 → 右下展示画像卡
5. 拖拽干部至左侧支部 → 触发校验：

   * A库冲突？→ 人员标红+提示
   * B库阈值超标？→ 支部风险提示
   * 结构合理性变差？→ 指标变动提示
6. 保存为调整方案（或提交审批）

---

## 4. 规则与指标（需要甲方确认的“口径清单”）

### 4.1 支部结构指标

* 平均年龄、年龄梯队（如≤35、36-45、46-55、≥56）
* 学历层次占比（本科/硕士/博士等）
* 任职年限分布（<3、3-5、5-10、>10）
* 综合素质指数（是否需要？口径=各模块加权）

### 4.2 风险阈值

* B库人数阈值：≥N或占比≥X%
* A库冲突等级：高/中/低 → 不同提示策略

### 4.3 方案审批规则（可选）

* 方案状态：草稿→提交→审核→生效/驳回
* 生效动作是否回写到干部“所属支部/任职履历”

---

## 5. 接口与集成（后端API清单草案）

* /api/cadres (list/detail)
* /api/depts (list/detail/structure)
* /api/rewards (crud/import)
* /api/appraisals (crud/import)
* /api/team-appraisals (crud/import)
* /api/special/a-pairs (crud/import)
* /api/special/b-persons (crud/import)
* /api/adjustment/plans (create/list/submit/approve)
* /api/adjustment/actions (add/remove/drag)
* /api/reports (export)
* /api/audit (query)

---

## 6. 分阶段交付（建议路线）

### Phase 1：数据底座（2-4周）

* M1基础信息 + Excel导入
* M10权限/日志基础

### Phase 2：台账与研判（3-5周）

* M2奖惩考核、M3研判、M6班子研判
* M9基础统计

### Phase 3：画像与调整（4-6周）

* M7画像中心
* M8人事调整与智能预警（含A/B库）
* 方案化调整+审批（若甲方要）

---

## 7. 待甲方确认问题清单（你拿去对齐）

1. “支部/部门”层级结构是否固定？是否存在跨支部借调？
2. 是否必须“方案化调整+审批”，还是直接生效？
3. A库矛盾对是**双向**还是可带方向/场景？是否有有效期？
4. B库类别是否需要细分并配置阈值？
5. 画像与综合指数是否要计算？若要，权重由谁配置？
6. 导出格式要求（Excel/Word/PDF）、是否要套公文格式？

---

## 8. 下一步我可以继续怎么拆

* 输出《详细功能清单（WBS）》：模块→子模块→用户故事→验收标准
* 输出《数据库字段表（数据字典）》：字段名/类型/必填/口径/来源
* 输出《人事调整页面PRD》：交互、状态、提示文案、异常流
* 输出《接口文档草案》：请求/响应/错误码/权限
